<div class="page-header">
  <h1>Documentation of the API <small>Red options are required</small></h1>
	<div class="btn-group btn-block  btn-group-justified">
		<a class="btn" ng-click="ui.documentation.selected = null" ng-class="{'btn-primary': (!ui.documentation.selected), 'btn-success' : ui.documentation.selected}">All Documentations</a>
		<a class="btn" ng-repeat="chapter in documentation | apiFilter" ng-click="ui.documentation.selected = chapter" ng-class="{'btn-primary': (ui.documentation.selected == chapter), 'btn-success' : (ui.documentation.selected != chapter)}" ng-bind="chapter"></a>
	</div>
	<div class="row" style="margin-top:20px;">
		<form class="form-horizontal" role="form">
			<div class="form-group">
				<label class="col-lg-2 control-label" for="filterInput">Search into the documentation</label>
				<div class="col-lg-10">
					<input type="text" ng-model="ui.documentation.filter" class="form-control" id="filterInput" placeholder="Search into the documentation" />
				</div>
			</div>
		</form>
	</div>

</div>

<div ng-repeat="chapter in documentation | filter:{name : ui.documentation.selected} | filter:ui.documentation.filter">
	<h2 ng-bind="chapter.name"></h2>
	<div class="container">
		<div class="row">
			<div class="col-lg-3">URI</div>
			<div class="col-lg-1">Method</div>
			<div class="col-lg-8">Informations</div>
		</div>
		<hr />
	</div>
	<div class="container" ng-repeat="doc in chapter.routes">
		<div class="row">
			<div class="col-lg-3"><span class="btn btn-link" ng-click="ui.toggle(doc.uri,doc.method)" ng-bind="doc.uri"></span></div>
			<div class="col-lg-1" ng-bind="doc.method"></div>
			<div class="col-lg-8">
				<h3 style="margin-top:0; padding-top:0;">Description :</h3>
				<p ng-bind="doc.description"></p>
				<div ng-show="ui.toggled[doc.uri + doc.method]">
					<h3 ng-show="doc.options[0]">Options :</h3>
					<table class="table table-striped" ng-show="doc.options[0]">
						<thead>
							<tr><th>Property name</th><th>Default value</th><th>Type</th><th>Description</th></tr>
						</thead>
						<tbody>
							<tr ng-repeat="option in doc.options"  ng-class="{'danger' : option.required}">
								<td ng-bind="option.name"></td>
								<td ng-bind="option.default"></td>
								<td ng-bind="option.type"></td>
								<td ng-bind="option.definition"></td>
							</tr>
						</tbody>
					</table>
					<h3>Example :</h3>
					<p ng-bind="doc.example"></p>
				</div>
			</div>
		</div>
		<hr />
	</div>
	<hr />
</div>
